<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--    top Banner override-->
    <template id="top_banner_maintenance" inherit_id="website_blog.opt_blog_cover_post" priority="2">
        <xpath expr="//div[@t-if='first_post or blog']" position="replace">
            <!-- Get latest posts -->
            <t t-set="latest_posts"
               t-value="request.env['blog.post'].search([], order='create_date desc')"/>
            <t t-set="first_latest_post" t-value="latest_posts[0] if latest_posts else False"/>

            <!-- Custom hero -->
            <section class="hero_section">
                <div class="bottom_bg mb104" style="height:500px;">
                    <div class="container pt64 text-white">
                        <div class="position-relative blog_top" t-if="first_latest_post or blog" style="z-index:20;">

                            <!-- Cover image -->
                            <div t-if="first_latest_post"
                                 class=" first_lastest_blog_img" style="height:560px;">
                                <t t-call="website.record_cover">
                                    <t t-set="_record" t-value="first_latest_post"/>
                                    <t t-set="additionnal_classes"
                                       t-valuef="o_not_editable rounded-4 overflow-hidden"/>
                                </t>
                            </div>

                            <!-- Content -->
                            <div t-if="first_latest_post"
                                 class="d-flex flex-column justify-content-between p-4 blog_top_content  position-absolute bg-white w-75 rounded-4">
                                <div>
                                    <a t-attf-href="/blog/#{slug(first_latest_post.blog_id)}/#{slug(first_latest_post)}"
                                       class="d-flex fw-bolder blog_title pb-3 m-0 text-dark  h4"
                                       t-out="first_latest_post.name"/>
                                    <h6 class="fw-medium m-0 pb-3 text-dark "
                                        t-out="first_latest_post.teaser"/>
                                </div>
                                <div class="date_more p-0 d-flex flex-row align-items-center justify-content-between">
                                    <a t-attf-href="/blog/#{slug(first_latest_post.blog_id)}/#{slug(first_latest_post)}"
                                       class="d-flex flex-row gap-2 align-items-center text-dark">
                                        More
                                        <i class="bi bi-arrow-right"/>
                                    </a>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </section>
        </xpath>
    </template>
    <!--    Remove The Nav-->
    <template id="remove_blog_nav" inherit_id="website_blog.blogs_nav">
        <xpath expr="//nav" position="replace"/>
    </template>
    <!--    Card Loops-->
    <template id="custom_blog_post" inherit_id="website_blog.posts_loop">
        <xpath expr="//t[@t-if='state_info']" position="before">
            <div class="pb48 pt144">

                <h4 class="text-primary py-3">Recent Blogs</h4>
                <h1 class="mb-2">Latest trends &amp; Inspiring Ideas</h1>
                <h4>Discover trends and expert perspectives in facility management, with in-depth analyses on best
                    practices and innovative solutions.
                    Gain valuable knowledge from our experts on sustainability, digital transformation, and intelligent
                    maintenance strategies.
                    Our blog is your reliable hub for insights that drive operational efficiency, sustainable practices,
                    and excellence in facility management.
                </h4>
            </div>
        </xpath>
        <xpath expr="//article[@name='blog_post']" position="replace">
            <article
                    t-attf-class="contain-card o_wblog_post position-relative #{'card h-100' if opt_blog_cards_design else ''}"
                    name="blog_post" t-att-style="not blog_post.website_published and 'opacity:0.6;'">
                <div>
                    <t t-call="website.record_cover">
                        <t t-set="_record" t-value="blog_post"/>
                        <t
                                t-set="additionnal_classes"
                                t-valuef="o_not_editable rounded-4 overflow-hidden contain-card-blog"
                        />
                    </t>
                </div>
                <div class="position-absolute bg-white d-flex flex-column align-items-center rounded-3 p-3 w-75 gap-2 contain-card-txt shadow"
                     style="bottom: 20px; left: 50%; transform: translateX(-50%);">
                    <h4 class="fw-bold text-center line-clamp-2">
                        <a t-attf-href="/blog/#{slug(blog_post.blog_id)}/#{slug(blog_post)}"
                           class="text-dark text-decoration-none"
                           t-out="blog_post.name"/>
                    </h4>
                    <h6 class="text-center text-muted line-clamp-2" t-out="blog_post.teaser"/>
                    <a t-attf-href="/blog/#{slug(blog_post.blog_id)}/#{slug(blog_post)}"
                       class="fw-bold text-dark text-decoration-none">
                        Read More
                        <i class="bi bi-arrow-right ms-2"/>
                    </a>
                </div>
                <!-- Add 'unpublished' badge -->
                <span t-if="not blog_post.website_published"
                      class="bg-danger small py-1 px-2 position-absolute o_not_editable"
                      style="top:0; right:0; border-radius: 0 18px 0px 0px;">
                    unpublished
                </span>
            </article>
        </xpath>
    </template>
    <!--    Pager-->
    <template id="custom_blog_pagination" inherit_id="portal.pager">


        <!-- Add class to each LI -->
        <xpath expr="//t[@t-as='page']/li/a" position="attributes">
            <attribute name="class" add="btn btn-primary text-dark d-flex justify-content-center px-3" seprator=" "/>
        </xpath>

        <!-- Add class to each link -->
        <xpath expr="//span[hasclass('fa-chevron-left')]" position="replace">
            <i class="btn btn-primary bi bi-arrow-left text-dark px-3" id="arrow_icons"/>
        </xpath>
        <xpath expr="//span[hasclass('fa-chevron-right')]" position="replace">
            <i class="btn btn-primary bi bi-arrow-right text-dark px-3" id="arrow_icons"/>

        </xpath>

    </template>

    <!--    Blog Details -->
    <template id="custom_blog_post_detail" inherit_id="website_blog.blog_post_complete">
        <xpath expr="//section[@id='o_wblog_post_top']" position="replace" active="True">
            <section id="blog_details">

                <section class="hero_section">
                    <div class="bottom_bg bottom_bg_blog" style="height:660px;">
                        <div class="container pt64 text-white position-relative">
                            <div class="d-flex flex-column  align-items-center text-center ">

                                <h1 class="display-1" t-field="blog_post.name" style="max-width:800px;"/>
                                <time
                                        class="mb-lg-5 mb-3 d-block h6 text-light"
                                        style="font-weight: 300;"
                                        t-if="blog_post.post_date"
                                        t-esc="blog_post.post_date.strftime('%d %b %Y')"
                                />
                            </div>
                            <div class="d-flex flex-column flex-lg-row gap-3 gap-lg-2 justify-content-center">

                                <div class="o_wblog_sidebar_block d-flex d-lg-block flex-row  justify-content-center align-items-center gap-lg-0 gap-2 flex-lg-column pt-lg-5 order-lg-1 order-2">
                                    <h6>Share</h6>

                                    <div class="o_wblog_social_links d-flex flex-lg-column flex-row flex-wrap mx-n1 o_not_editable">
                                        <t t-set="classes" t-translation="off">text-light mx-1 d-flex align-items-center
                                            justify-content-center
                                            text-decoration-none
                                        </t>
                                        <a href="#" aria-label="Twitter" title="Share on Twitter"
                                           t-attf-class="o_twitter #{classes}">
                                            <i class="fa fa-twitter" aria-label="Twitter"
                                               title="Twitter"/>
                                        </a>
                                        <a href="#" aria-label="LinkedIn" title="Share on LinkedIn"
                                           t-attf-class="o_linkedin #{classes}">
                                            <i class="bi bi-linkedin text-light" aria-label="LinkedIn"
                                               title="LinkedIn"/>
                                        </a>
                                        <a href="#" aria-label="Facebook" title="Share on Facebook"
                                           t-attf-class="o_facebook #{classes}">
                                            <i class="fa fa-facebook-f text-light bg-transparent"/>
                                        </a>
                                        <a href="#" aria-label="LinkedIn" title="Share on LinkedIn"
                                           t-attf-class="o_linkedin #{classes}">
                                            <i class="bi bi-link-45deg" aria-label="LinkedIn"
                                               title="LinkedIn"/>
                                        </a>
                                    </div>
                                </div>
                                <div class="w-100 order-2 order-lg-3 blog_cover_photo"
                                     style="max-width:800px;">
                                    <t t-call="website.record_cover">
                                        <t t-set="_record" t-value="blog_post"/>
                                        <t t-set="additionnal_classes"
                                           t-valuef="o_not_editable w-100  rounded-4 overflow-hidden"/>
                                    </t>
                                </div>
                                <div t-attf-class="o_not_editable pt-lg-5 position-relative #{additionnal_classes or ''} d-flex d-lg-block flex-row justify-content-center align-items-center flex-lg-column  gap-3 order-lg-3 order-1">
                                    <h6 class="text-500 mb-lg-4">
                                        Author
                                    </h6>
                                    <div class="d-flex flex-row flex-lg-column  gap-2">

                                        <div t-if="blog_post.author_avatar"
                                             t-field="blog_post.author_avatar"
                                             style="line-height:1"
                                             t-options='{"widget": "image", "class": "rounded-circle " + "o_wblog_author_avatar me-1" if hide_date else  "o_wblog_author_avatar_date me-2"}'
                                        />
                                        <div t-att-class="not hide_date and 'small fw-bold'" style="line-height:1">
                                            <h6 t-if="editable" t-field="blog_post.author_id.name"
                                                style="min-width:108px;"/>
                                            <h4 t-else="" t-esc="blog_post.author_name"/>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </section>
            </section>
        </xpath>
    </template>

    <!--    Footer-->
    <template id="custom_blog_footer" inherit_id="website_blog.opt_blog_post_read_next" priority="3">
        <xpath expr="//div[@id='o_wblog_next_container']" position="replace">
            <t t-set="related_posts"
               t-value="request.env['blog.post'].search([
                        ('id', '!=', blog_post.id),
                        ('blog_id', '=', blog_post.blog_id.id)
                    ], limit=3)"/>
            <t t-set="service_type_ids"
               t-value="request.env['website.service.type'].search([])"/>
            <section class="contact_us">
                <div class="contact_us-inner s_website_form ">
                    <div class="container py-5">
                        <form action="/website/form/" method="post" enctype="multipart/form-data"
                              class="o_mark_required bg-white p-4 rounded-5" data-mark="*" data-pre-fill="true"
                              data-model_name="crm.lead"
                              data-success-mode="message" data-success-page="/contactus-thank-you"
                              style="max-width:800px;"
                        >
                            <div class="s_website_form_rows row s_col_no_bgcolor">
                                <h1 class="mb-lg-4 mb-3">Contact us</h1>


                                <div data-name="Field"
                                     class="s_website_form_field mb-3 col-12 s_website_form_required"
                                     data-type="char" data-translated-name="Field">
                                    <label class="s_website_form_label" style="width: 200px" for="of9qm8713zwa">
                                        <span class="s_website_form_label_content fw-bold">Your Name</span>
                                    </label>
                                    <input class="form-control s_website_form_input" type="text" name="contact_name"
                                           required="1" placeholder="" id="of9qm8713zwa" data-fill-with="name"/>
                                </div>
                                <div data-name="Field" class="s_website_form_field mb-3 col-12" data-type="tel"
                                     data-translated-name="Field">
                                    <label class="s_website_form_label" style="width: 200px" for="ox53z80k05p">
                                        <span class="s_website_form_label_content fw-bold">Phone Number</span>
                                    </label>
                                    <input class="form-control s_website_form_input" type="tel" name="phone"
                                           placeholder="" id="ox53z80k05p" data-fill-with="phone"/>
                                </div>
                                <div data-name="Field"
                                     class="s_website_form_field mb-3 col-12 s_website_form_required"
                                     data-type="email" data-translated-name="Field">
                                    <label class="s_website_form_label" style="width: 200px" for="o64ap46w15on">
                                        <span class="s_website_form_label_content fw-bold">Your Email</span>
                                    </label>
                                    <input class="form-control s_website_form_input" type="email" name="email_from"
                                           required="1" placeholder="" id="o64ap46w15on" data-fill-with="email"/>
                                </div>

                                <div data-name="Field"
                                     class="s_website_form_field mb-3 col-12 s_website_form_model_required"
                                     data-type="char" data-translated-name="Field">
                                    <label class="s_website_form_label" style="width: 200px" for="olijz3foppl">
                                        <span class="s_website_form_label_content fw-bold">Service type</span>
                                    </label>
                                    <select class="form-select s_website_form_input"
                                            name="name"
                                            id="service_type_id"
                                            required="required">

                                        <!-- Placeholder (default) -->
                                        <option t-if="not service" value="" selected="selected"
                                                disabled="disabled">Choose a
                                            service
                                        </option>

                                        <!-- Real options -->
                                        <t t-foreach="service_ids" t-as="s">
                                            <option t-attf-value="Requests for {{s.name}}"
                                                    t-att-selected="selected if service and service.id == s.id else none">
                                                <t t-out="s.name"/>
                                            </option>
                                        </t>
                                    </select>

                                    <!--                                        <input class="form-control s_website_form_input" type="text" name="name"-->
                                    <!--                                               required="" placeholder="" id="olijz3foppl"/>-->
                                </div>
                                <div data-name="Field"
                                     class="s_website_form_field mb-3 col-12 s_website_form_required"
                                     data-type="text" data-translated-name="Field">
                                    <label class="s_website_form_label" style="width: 200px" for="oyzuz6xkk6ld">
                                        <span class="s_website_form_label_content fw-bold">Your Question</span>
                                    </label>
                                    <textarea class="form-control s_website_form_input" name="description"
                                              placeholder="" id="oyzuz6xkk6ld" rows="3"/>
                                </div>
                                <div data-name="Field"
                                     class="s_website_form_field mb-3 col-12 s_website_form_dnone">
                                    <div class="row s_col_no_resize s_col_no_bgcolor">
                                        <label class="col-form-label col-sm-auto s_website_form_label"
                                               style="width: 200px">
                                            <span class="s_website_form_label_content"/>
                                        </label>
                                        <div class="col-sm">
                                            <input type="hidden" class="form-control s_website_form_input"
                                                   name="team_id" value="1"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-0 py-2 col-12 s_website_form_submit" data-name="Submit Button">
                                    <div style="width: 200px;" class="s_website_form_label"/>
                                    <a href="#" role="button"
                                       class="btn btn-primary s_website_form_send o_default_snippet_text d-flex justify-content-center align-items-center text-dark">
                                        Send
                                        <i class="bi bi-arrow-right ms-lg-3 ms-1"/>
                                    </a>
                                    <span id="s_website_form_result"/>
                                </div>
                            </div>
                        </form>
                        <div class="s_website_form_end_message d-none">
                            <div class="oe_structure">
                                <section class="s_text_block pt64 pb64 o_colored_level o_cc text-light"
                                         data-snippet="s_text_block">
                                    <div class="container">
                                        <h2 class="text-center">
                                            <span class="fa fa-check-circle"/>
                                            Thank You For Your Feedback
                                        </h2>
                                        <p class="text-center">Our team will message you back as soon as possible.In
                                            the meantime we invite you to visit our <a href="/">website</a>.
                                        </p>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>

                </div>

            </section>
            <section class="more_blogs pt72 pb72">
                <div class="container position-relative py-lg-4 ">

                    <!-- Left arrow -->
                    <button class="scroll-btn scroll-left btn btn-light position-absolute  start-0 translate-middle-y z-3 p-2 d-flex justify-content-center align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"
                             fill="none">
                            <path d="M22.6958 14.435H5.48568M5.48568 14.435C5.48568 14.435 10.364 11.2268 11.3552 8.56543M5.48568 14.435C5.48568 14.435 9.79826 17.4495 11.3552 20.3046"
                                  stroke="#1C2126" stroke-width="2.17391" stroke-linecap="square"/>
                        </svg>
                    </button>

                    <!-- Section Header -->
                    <div class="d-flex flex-column align-items-center gap-lg-3 pb-lg-5 pb-3 text-center">
                        <h4 class="text-primary">Blogs</h4>
                        <h1>Latest trends &amp; Inspiring Ideas</h1>
                        <h4 class="text-700">Discover trends and expert perspectives in facility management,
                            with in-depth
                            analyses on best practices and innovative solutions.
                            Gain valuable knowledge from our experts on sustainability, digital transformation,
                            and intelligent maintenance strategies.
                            Our blog is your reliable hub for insights that drive operational efficiency,
                            sustainable practices, and excellence in facility management.
                        </h4>
                    </div>

                    <!-- Owl Carousel -->
                    <div class="owl-carousel blog-carousel">
                        <t t-foreach="related_posts" t-as="post">
                            <t t-set="image_url"
                               t-value="post._get_background(height=_resize_height, width=_resize_width).replace('url(', '').replace(')', '').strip('\'\'')"/>
                            <div class="item">
                                <div class="contain-card position-relative overflow-hidden rounded-3 w-100">
                                    <!-- Background image -->
                                    <div t-att-style="'background-image: url(%s);' % image_url"
                                         class="blog_img position-absolute top-0 start-0 w-100 h-100 bg-cover bg-center">
                                    </div>

                                    <!-- Text overlay -->
                                    <div class="position-absolute bg-white d-flex flex-column align-items-center rounded-3 p-3 w-75 gap-lg-2 contain-card-txt"
                                         style="bottom: 20px; left: 50%; transform: translateX(-50%);">
                                        <h4 class="fw-bold text-center line-clamp-2" t-field="post.name"/>
                                        <h6 class="text-center line-clamp-2" t-out="post.subtitle or ''"/>
                                        <a t-att-href="post.website_url" class="text-dark">Read More
                                            <i class="bi bi-arrow-right ms-lg-3 ms-1"/>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>

                    <!-- Right arrow -->
                    <button class="scroll-btn scroll-right btn btn-light position-absolute end-0 translate-middle-y z-3 p-2 d-flex justify-content-center align-items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"
                             fill="none">
                            <path d="M5.3042 14.435H22.5143M22.5143 14.435C22.5143 14.435 17.636 11.2268 16.6448 8.56543M22.5143 14.435C22.5143 14.435 18.2017 17.4495 16.6448 20.3046"
                                  stroke="#1C2126" stroke-width="2.17391" stroke-linecap="square"/>
                        </svg>
                    </button>

                    <!-- Button -->
                    <div class="d-flex justify-content-center mt-lg-5">
                        <a t-attf-href="/blog" class="btn btn-primary text-dark">Discover All Blogs
                            <i class="bi bi-arrow-right ms-lg-3 ms-1"/>
                        </a>
                    </div>

                </div>
            </section>

        </xpath>

    </template>
</odoo>
